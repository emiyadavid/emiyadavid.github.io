## 传递后编译  
**编号：**T1027.004  
**战术：**防御规避（Defense Evasion)  
**数据源：**文件监视，过程命令行参数，进程监视  
**基本描述：**攻击者可能试图通过将文件作为未编译的代码传递给受害者，从而使有效载荷难以发现和分析。这些有效负载需要在执行之前进行编译；通常通过本机程序，例如csc.exe或GCC/MinGW来编译。
源代码有效载荷也可以被加密，编码和/或嵌入在其他文件中，例如作为鱼叉式附件传递的文件。有效载荷也可能以无法识别的格式传递给操作系统（例如，macOS/Linux上的EXE），本质上是正常的，然后再通过捆绑的编译器和执行框架（重新）编译为适当的可执行二进制文件。  
## 检测建议  
检测常见编译器（例如csc.exe和GCC/MinGW）的执行文件路径和命令行参数，并与其他可疑行为相关联，以减少来自正常用户和管理员行为的误报。有效载荷的汇编还可生成文件创建和/或文件写入事件。
寻找非本机二进制格式以及跨平台的编译器和执行框架（如Mono），并确定它们在系统上是否具有合法用途。通常，这些仅应在特定和有限的情况下使用，例如用于软件开发。  
## 检测方式  
规则